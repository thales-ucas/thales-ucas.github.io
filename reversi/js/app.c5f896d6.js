(function(e){function t(t){for(var r,i,c=t[0],l=t[1],u=t[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);s&&s(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"22b7":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"h3[data-v-c98a5ae0]{margin:40px 0 0}ul[data-v-c98a5ae0]{list-style-type:none;padding:0}li[data-v-c98a5ae0]{display:inline-block;margin:0 10px}a[data-v-c98a5ae0]{color:#42b983}.start-panel[data-v-c98a5ae0]{width:5rem;position:absolute;left:1.25rem;top:1.75rem;z-index:1;border-radius:.1rem;background-color:#fff}.start-panel .start-wrap[data-v-c98a5ae0]{margin:.3rem 1.5rem .7rem}.start-panel .start-wrap p[data-v-c98a5ae0]{text-align:left}",""]),e.exports=t},"364d":function(e,t,n){e.exports=n.p+"img/square.40d3af04.jpg"},"532b":function(e,t,n){var r=n("22b7");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("233c7934",r,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(e,t,n,a,o,i){var c=Object(r["i"])("game");return Object(r["f"])(),Object(r["b"])(c,{msg:"Welcome to Your Vue.js App"})}var o=Object(r["n"])("data-v-c98a5ae0");Object(r["h"])("data-v-c98a5ae0");var i={class:"game"},c=Object(r["e"])("div",null,[Object(r["e"])("p",null,"苹果棋"),Object(r["e"])("p",null,"Reversi")],-1),l=Object(r["e"])("span",null,"黑棋:",-1),u=Object(r["e"])("span",null,"白棋:",-1),s={key:0},f={key:1},p={key:0},v={class:"start-panel"},h={class:"start-wrap"},d=Object(r["d"])(" 初级 "),b=Object(r["d"])(" 中级 "),y=Object(r["d"])(" 高级 "),m=Object(r["d"])(" 双人对战 ");Object(r["g"])();var E=o((function(e,t,n,a,o,E){return Object(r["f"])(),Object(r["b"])("div",i,[c,Object(r["e"])("div",null,[Object(r["e"])("canvas",{ref:"game",width:"500",height:"500",style:{width:"100%"},onClick:t[1]||(t[1]=function(){return E.onGameClick&&E.onGameClick.apply(E,arguments)})},null,512)]),Object(r["e"])("div",null,[Object(r["e"])("ul",null,[Object(r["e"])("li",null,[l,Object(r["e"])("span",null,Object(r["j"])(o.black),1)]),Object(r["e"])("li",null,[u,Object(r["e"])("span",null,Object(r["j"])(o.white),1)])])]),Object(r["e"])("div",null," 总用时："+Object(r["j"])(o.timeGlobal),1),Object(r["e"])("div",null,[1===o.player?(Object(r["f"])(),Object(r["b"])("span",s,"黑棋思考中……")):2===o.player?(Object(r["f"])(),Object(r["b"])("span",f,"白棋思考中……")):Object(r["c"])("",!0),Object(r["e"])("span",null,Object(r["j"])(o.timeLocal)+"秒",1)]),o.msg?(Object(r["f"])(),Object(r["b"])("div",p,[Object(r["e"])("p",null,Object(r["j"])(o.msg),1),Object(r["e"])("p",null,[Object(r["e"])("button",{onClick:t[2]||(t[2]=function(){return E.onGameRestart&&E.onGameRestart.apply(E,arguments)})},"再玩一次")])])):Object(r["c"])("",!0),Object(r["m"])(Object(r["e"])("div",v,[Object(r["e"])("div",h,[Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["m"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.difficulty=e}),value:"0"},null,512),[[r["k"],o.difficulty]]),d])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["m"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.difficulty=e}),value:"1"},null,512),[[r["k"],o.difficulty]]),b])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["m"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.difficulty=e}),value:"2"},null,512),[[r["k"],o.difficulty]]),y])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["m"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.difficulty=e}),value:"10"},null,512),[[r["k"],o.difficulty]]),m])]),Object(r["e"])("button",{onClick:t[7]||(t[7]=function(){return E.onGameStart&&E.onGameStart.apply(E,arguments)})},"开始游戏")])],512),[[r["l"],o.isStartPanelShow]])])})),O=(n("99af"),n("b85c")),w=(n("96cf"),n("1da1")),g=n("5a89"),j=n("22b5"),S=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("04d3"),n("364d")),T=n.n(S),H=function e(){var t=this;t.row=NaN,t.col=NaN,t.init=function(){var n=new g["a"](e.WIDTH,e.HEIGHT,e.WIDTH),r=(new g["l"]).load(T.a),a=new g["g"]({color:16755200,map:r});g["f"].call(t,n,a)},t.blink=function(){t.position.y+=5},t.init()};H.WIDTH=10,H.HEIGHT=2,H.prototype=Object.create(g["f"].prototype),H.prototype.constructor=H;var k=H,C=(n("c740"),n("3835")),I=function e(t){var n=this,r=null,a=null;function o(){a=a&&a===e.CHESS.BLACK?e.CHESS.WHITE:e.CHESS.BLACK;var t={type:e.EVENT.SHIFT,data:a};n.dispatchEvent(t);var r=n.getLegal(a);return 0===r.length?o():a}function i(t,n,a){if(0!==r[t][n])return!1;if(!c(n,t))return!1;r[t][n]=a;for(var o=[],i=a===e.CHESS.BLACK?e.CHESS.WHITE:e.CHESS.BLACK,l=[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],u=0,s=l;u<s.length;u++){var f=s[u],p=Object(C["a"])(f,2),v=p[0],h=p[1],d=parseInt(n),b=parseInt(t);if(d+=v,b+=h,c(b,d)&&r[b][d]===i)do{if(d+=v,b+=h,!c(b,d))break}while(r[b][d]===i);if(c(b,d)&&r[b][d]===a)while(c(b,d)){if(d-=v,b-=h,b==parseInt(t)&&d==parseInt(n))break;o.push({col:d,row:b})}}return r[t][n]=0,0!==o.length&&o}function c(t,n){return t>=0&&t<=e.ROW-1&&n>=0&&n<=e.COL-1}function l(){var t,n={black:0,white:0,space:0},a=Object(O["a"])(r);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,c=Object(O["a"])(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;l===e.CHESS.BLACK?n.black++:l===e.CHESS.WHITE?n.white++:n.space++}}catch(u){c.e(u)}finally{c.f()}}}catch(u){a.e(u)}finally{a.f()}return n}n.init=function(t){if(t){r=[];for(var a=0;a<e.ROW;a++){for(var o=[],i=0;i<e.COL;i++)o.push(t[a][i]);r.push(o)}}else n.reset()},n.clone=function(){return new e(r)},n.reset=function(){r=[];for(var t=0;t<e.ROW;t++){for(var n=[],o=0;o<e.COL;o++)n.push(0);r.push(n)}a=null},n.start=function(){var t=[];t.push({row:3,col:4,color:e.CHESS.BLACK}),t.push({row:3,col:3,color:e.CHESS.WHITE}),t.push({row:4,col:3,color:e.CHESS.BLACK}),t.push({row:4,col:4,color:e.CHESS.WHITE});for(var a=0,i=t;a<i.length;a++){var c=i[a],u=c.row,s=c.col,f=c.color;r[u][s]=f}o();var p={moves:t,count:l()},v={type:e.EVENT.START,data:p};n.dispatchEvent(v)},n.getData=function(){return r},n.getPlayer=function(){return a},n.getResult=function(){var t=l(),n=t.black-t.white,r=e.WINNER.DRAW;return n>0?r=e.WINNER.BLACK:n<0&&(r=e.WINNER.WHITE),{count:t,winner:r,diff:n}},n.isGameOver=function(){var t=l();if(0===t.space||0===t.black||0===t.white){var r={type:e.EVENT.GAME_OVER,data:t};return n.dispatchEvent(r),!0}return!1},n.move=function(t,c){var u=a,s=i(t,c,u);if(s){var f,p=Object(O["a"])(s);try{for(p.s();!(f=p.n()).done;){var v=f.value;r[v.row][v.col]=u}}catch(y){p.e(y)}finally{p.f()}r[t][c]=u;var h=l(),d={row:t,col:c,color:u,flips:s,count:h},b={type:e.EVENT.MOVE,data:d};n.dispatchEvent(b),n.isGameOver()||o()}},n.getLegal=function(t){isNaN(t)&&(t=a);var n=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],o=t===e.CHESS.BLACK?e.CHESS.WHITE:e.CHESS.BLACK,l=[];for(var u in r)for(var s in r[u])if(r[u][s]===o){var f,p=Object(O["a"])(n);try{var v=function(){var t=f.value,n=Object(C["a"])(t,2),a=n[0],o=n[1],i=parseInt(s)+a,p=parseInt(u)+o;c(p,i)&&r[p][i]===e.CHESS.NONE&&-1===l.findIndex((function(e){return e[0]===i&&e[1]===p}))&&l.push([i,p])};for(p.s();!(f=p.n()).done;)v()}catch(m){p.e(m)}finally{p.f()}}for(var h=[],d=0,b=l;d<b.length;d++){var y=b[d];i(y[1],y[0],t)&&h.push(y)}return h},n.init(t)};I.ROW=8,I.COL=8,I.CHESS={NONE:0,BLACK:1,WHITE:2},I.WINNER={DRAW:0,BLACK:1,WHITE:2},I.EVENT={START:"gameStart",GAME_OVER:"gameOver",MOVE:"chessMove",SHIFT:"playerShift",FLIP:"chessFlip"},Object.assign(I.prototype,g["e"].prototype),I.prototype.constructor=I;var M=I,N=function e(t){var n=this,r=null;n.init=function(t){var a=new g["d"](e.RADIUS,e.RADIUS,e.WIDTH,e.SEGMENT),o=[new g["g"]({color:"red"}),new g["g"]({color:"black"}),new g["g"]({color:"white"})];g["f"].call(n,a,o),r=parseInt(t),r==M.CHESS.WHITE&&(n.rotation.x=Math.PI)},n.move=function(){return new Promise((function(e){var t={y:10},r=new j["b"](t).to({y:0},500).easing(j["a"].Quadratic.In);r.onUpdate((function(e){n.position.y=e.y})),r.onComplete((function(t){e(t)})),r.start()}))},n.flip=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){var a={x:0};r=r==M.CHESS.WHITE?M.CHESS.BLACK:M.CHESS.WHITE;var o=n.rotation.x,i={y:0},c=new j["b"](i).to({y:10},300).onUpdate((function(e){n.position.y=e.y})),l=new j["b"](i).to({y:0},200).onUpdate((function(e){n.position.y=e.y})),u=new j["b"](a).to({x:Math.PI},300).onUpdate((function(e){n.rotation.x=o+e.x}));u.onComplete((function(e){t(e)})),u.chain(l),c.chain(u),c.delay(e),c.start()}))},n.init(t)};N.RADIUS=4,N.HEIGHT=1,N.SEGMENT=20,N.prototype=Object.create(g["f"].prototype),N.prototype.constructor=N;var x=N,L=function(){var e=this,t=null,n=null;e.offset={row:0,col:0},e.init=function(){g["h"].call(e),t=new g["h"],n=new g["h"],e.add(t,n)},e.reset=function(){n.clear()},e.hit=function(e){var n=e.intersectObjects(t.children),r=null;return n.length>0&&(r=n[0]),r},e.pave=function(r){for(var a in t.clear(),e.offset.row=r.length/2*k.WIDTH-k.WIDTH/2,e.offset.col=e.offset.row,r)for(var o in r[a]){var i=new k;i.row=a,i.col=o,i.position.x=o*k.WIDTH,i.position.z=a*k.WIDTH,t.add(i)}t.position.set(-e.offset.col,0,-e.offset.row),n.position.set(-e.offset.col,k.HEIGHT,-e.offset.row)},e.move=function(e,t,r){var a=new x(r);return a.position.x=t*k.WIDTH,a.position.z=e*k.WIDTH,a.name="".concat(e,"-").concat(t),n.add(a),a.move()},e.flip=function(e){var t=[];if(e)for(var r in e){var a=e[r],o=a.row,i=a.col,c=n.getObjectByName("".concat(o,"-").concat(i));t.push(c.flip(500*parseInt(r)))}return Promise.all(t)},e.init()};L.prototype=Object.create(g["h"].prototype),L.prototype.constructor=L;var A=L,_=n("d4ec"),G=n("bee2"),W=n("53ca"),R=function(){function e(){Object(_["a"])(this,e),this._table=[[[0,0],[0,7],[7,0],[7,7]],[[2,2],[2,5],[5,2],[5,5]],[[3,2],[3,5],[4,2],[4,5],[2,3],[2,4],[5,3],[5,4]],[[2,0],[2,7],[5,0],[5,7],[0,2],[0,5],[7,2],[7,5]],[[3,0],[3,7],[4,0],[4,7],[0,3],[0,4],[7,3],[7,4]],[[2,1],[2,6],[5,1],[5,6],[1,2],[1,5],[6,2],[6,5]],[[3,1],[3,6],[4,1],[4,6],[1,3],[1,4],[6,3],[6,4]],[[1,1],[1,6],[6,1],[6,6]],[[1,0],[1,7],[6,0],[6,7],[0,1],[0,6],[7,1],[7,6]]]}return Object(G["a"])(e,[{key:"select",value:function(e){if(!(e&&e.length>0))return!1;var t,n=Object(O["a"])(this._table);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.sort((function(){return.5-Math.random()}));var a,o=Object(O["a"])(r);try{var i=function(){var t=a.value;if(e.findIndex((function(e){return e[0]===t[0]&&e[1]===t[1]}))>-1)return{v:t}};for(o.s();!(a=o.n()).done;){var c=i();if("object"===Object(W["a"])(c))return c.v}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}}}]),e}(),P=R,V=function(){function e(t,n,r,a){Object(_["a"])(this,e),this.black=t,this.white=n,this.current=a,this.engine=r}return Object(G["a"])(e,[{key:"run",value:function(){var e=0;while(!this.engine.isGameOver()){this.shift();var t=this.engine.getLegal(this.current.color);if(t&&t.length>0){var n=this.current.getMove(t);this.engine.move(n[1],n[0])}if(e>100)break;e++}return this.engine.getResult()}},{key:"shift",value:function(){var e=this.engine.getPlayer();return isNaN(e)?this.current=this.black:this.current=e===M.CHESS.BLACK?this.black:this.white,this.current}}]),e}(),B=function(){function e(t,n){Object(_["a"])(this,e),this.color=t,this.type=n,this.roxnane=new P}return Object(G["a"])(e,[{key:"getMove",value:function(e){return this.roxnane.select(e)}}]),e}(),D=function(){function e(t,n){Object(_["a"])(this,e),this.parent=t,this.w=0,this.n=0,this.row=NaN,this.col=NaN,this.color=n,this.children=[]}return Object(G["a"])(e,[{key:"setMove",value:function(e){this.row=e[1],this.col=e[0]}},{key:"getMove",value:function(){return[this.col,this.row]}},{key:"add",value:function(e){-1===this.children.findIndex((function(t){return t.row===e.row&&t.col===e.col}))&&this.children.push(e)}}]),e}(),K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Object(_["a"])(this,e),this.color=t,this.expire=n,this.tick=0,this.black=new B(M.CHESS.BLACK),this.white=new B(M.CHESS.WHITE)}return Object(G["a"])(e,[{key:"run",value:function(e){var t=this;this.tick=(new Date).getTime();var n=new D(null,this.color);return new Promise((function(r,a){var o=setInterval((function(){var a=e.clone(),i=t.select(n,a);t.expand(i,a);var c=t.simulate(i,a),l=c.winner,u=[.5,1,0][l];if(i.color===M.CHESS.BLACK&&(u=1-u),t.backProp(i,u),(new Date).getTime()-t.tick>t.expire-1){clearInterval(o);var s=-1,f=null;for(var p in n.children)n.children[p].n>s&&(s=n.children[p].n,f=n.children[p].getMove());r(f)}}),1)}))}},{key:"select",value:function(e,t){if(0===e.children.length)return e;var n=-1,r=null;for(var a in e.children){if(0===e.children[a].n){r=a;break}var o=e.n,i=e.children[a].n,c=e.children[a].w,l=c/i+Math.sqrt(2*Math.log(o)/i);l>n&&(n=l,r=a)}return this.select(e.children[r],t)}},{key:"expand",value:function(e,t){var n,r=Object(O["a"])(t.getLegal(e.color));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=new D(e,e.color);o.setMove(a),e.add(o)}}catch(i){r.e(i)}finally{r.f()}}},{key:"simulate",value:function(e,t){var n=e.color===M.CHESS.WHITE?M.CHESS.BLACK:M.CHESS.WHITE,r=new V(this.black,this.white,t,n);return r.run()}},{key:"backProp",value:function(e,t){e.n+=1,e.w+=t,e.parent&&this.backProp(e.parent,1-t)}},{key:"getMove",value:function(e){this.tick=(new Date).getTime();var t=this.mcts(e.clone());return t}}]),e}(),U=K,z=function e(t){var n=this,r=null,a=null,o=0;n.init=function(e){r=new U(M.CHESS.WHITE),a=new P,o=parseInt(e)},n.getColor=function(){return M.CHESS.WHITE},n.think=function(t){if(2===o)r.run(t).then((function(t){var r=Object(C["a"])(t,2),a=r[0],o=r[1],i={col:a,row:o,color:n.getColor()},c={type:e.EVENT.MOVE,data:i};n.dispatchEvent(c)}));else{var i,c,l=t.getLegal();if(0===l.length)return;if(1===o){var u=a.select(l),s=Object(C["a"])(u,2);i=s[0],c=s[1]}else{var f=Object(C["a"])(l[parseInt(Math.random()*l.length)],2);i=f[0],c=f[1]}var p={col:i,row:c,color:n.getColor()};setTimeout((function(){var t={type:e.EVENT.MOVE,data:p};n.dispatchEvent(t)}),500)}},n.init(t)};z.EVENT={MOVE:"aiPlayerMove"},z.prototype=Object.create(g["e"].prototype),z.prototype.constructor=z;var F=z,q={RUNNING:"running",GAME_INIT:"gameInit",GAME_START:"gameStart",GAME_STEP:"gameStep",GAME_OVER:"gameOver"},J=function(e){var t=this,n=0,r=0,a=0,o=0,i=null,c=60,l=null,u=null,s=null,f=null,p=null,v=null,h={},d=null,b=new g["b"],y=!1,m=!1;function E(){n=i.offsetLeft,r=i.offsetTop,a=i.clientWidth,o=i.clientHeight}function S(){var e=v.getPlayer();"player"===h[e]?m=!0:"ai"===h[e]&&d.think(v)}function T(e){return H.apply(this,arguments)}function H(){return H=Object(w["a"])(regeneratorRuntime.mark((function e(n){var r,a,o,i,c,l,u,s,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=n.data,a=r.count,o=r.moves,(new Date).getTime(),i=Object(O["a"])(o),e.prev=3,i.s();case 5:if((c=i.n()).done){e.next=12;break}return l=c.value,u=l.row,s=l.col,p=l.color,e.next=10,f.move(u,s,p);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:m=!0,y=!0,b.start(),a.player=v.getPlayer(),h={type:q.GAME_STEP,data:a},t.dispatchEvent(h);case 26:case"end":return e.stop()}}),e,null,[[3,14,17,20]])}))),H.apply(this,arguments)}function k(e){y=!1,b.stop()}function C(e){var n={type:q.GAME_OVER,data:e};t.dispatchEvent(n)}function I(e){m=!1;var n=e.data,r=n.row,a=n.col,o=n.color,i=n.flips,c=n.count;f.move(r,a,o).then((function(){f.flip(i).then((function(){c.player=v.getPlayer();var e={type:q.GAME_STEP,data:c};t.dispatchEvent(e),y?S():C(c)}))}))}function N(e){var t=e.data,n=t.row,r=t.col;v.move(n,r)}function x(e){if(requestAnimationFrame(x),y){var n={type:q.RUNNING,data:b.getElapsedTime()};t.dispatchEvent(n)}j["c"].update(e),s.render(u,l)}t.init=function(e){i=e,E(),u=new g["k"],u.background=new g["c"]("skyblue"),l=new g["i"](75,a/o,1,1e3),l.position.set(0,0,c),s=new g["o"]({canvas:e,antialias:!0}),p=new g["j"],v=new M,v.addEventListener(M.EVENT.START,T),v.addEventListener(M.EVENT.GAME_OVER,k),v.addEventListener(M.EVENT.MOVE,I),f=new A,f.pave(v.getData()),u.add(f),l.lookAt(f.position),window.addEventListener("resize",E),x(0)},t.reset=function(){v.reset(),f.reset(),m=!1,y=!1,j["c"].removeAll()},t.start=function(e){E();var t=new g["n"];t.copy(l.position);var n=new g["n"],r=new j["b"](t).to({x:0,y:c,z:0});r.onUpdate((function(e){n.copy(e),n.setLength(c),l.position.copy(n),l.lookAt(f.position)})),r.onComplete((function(){10===parseInt(e)?h[M.CHESS.WHITE]="player":(d=new F(e),d.addEventListener(F.EVENT.MOVE,N),h[M.CHESS.WHITE]="ai"),h[M.CHESS.BLACK]="player",v.start()})),r.start()},t.click=function(e){if(m){var t=new g["m"],i=e.x-n,c=e.y-r;t.x=i/a*2-1,t.y=-c/o*2+1,p.setFromCamera(t,l);var u=f.hit(p);if(u){var s=u.object,h=s.row,d=s.col;v.move(h,d)}}},t.init(e)};Object.assign(J.prototype,g["e"].prototype),J.prototype.constructor=J;var Q={name:"Game",data:function(){return{isStartPanelShow:!0,difficulty:0,msg:"",timeGlobal:0,timeLocal:0,player:0,black:0,white:0}},_time:0,_count:0,__reversi:null,mounted:function(){this.__reversi=new J(this.$refs["game"]),this.__reversi.addEventListener(q.GAME_STEP,this.onGameStep),this.__reversi.addEventListener(q.RUNNING,this.onGameRunning),this.__reversi.addEventListener(q.GAME_OVER,this.onGameOver)},methods:{onGameClick:function(e){this.__reversi.click(e)},onGameStart:function(e){this.isStartPanelShow=!1,this.__reversi.start(this.difficulty),this._count=this._time||0},onGameRestart:function(e){this.__reversi.reset(),this.isStartPanelShow=!0,this.msg=""},onGameOver:function(e){var t=e.data,n=t.black,r=t.white;t.space;this.msg=n>r?"黑棋胜":r>n?"白棋胜":"平局"},onGameRunning:function(e){var t=e.data;this._time=t;var n=Math.floor(t/3600),r=Math.floor(t/60%60),a=Math.floor(t%60);this.timeGlobal="".concat(n,"小时 ").concat(r,"分 ").concat(a,"秒"),this.timeLocal=Math.floor(this._time-this._count),this.timeLocal<0&&(this.timeLocal=0)},onGameStep:function(e){this._count=this._time||0,this.black=e.data.black,this.white=e.data.white,this.player=e.data.player}}};n("ab4c");Q.render=E,Q.__scopeId="data-v-c98a5ae0";var Y=Q,$={name:"App",components:{Game:Y}};(function(e,t){var n,r,a,o=document,i=window,c=o.documentElement;function l(){var n=c.getBoundingClientRect().width;t||(t=540),n>t&&(n=t);var o=100*n/e;if(a="html{font-size:"+o+"px !important}",r=document.getElementById("rootsize")||document.createElement("style"),document.getElementById("rootsize")||(document.getElementsByTagName("head")[0].appendChild(r),r.id="rootsize"),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=a);else try{r.innerHTML=a}catch(i){r.innerText=a}c.style.fontSize=o+"px"}l(),i.addEventListener("resize",(function(){clearTimeout(n),n=setTimeout(l,300)}),!1),i.addEventListener("pageshow",(function(e){e.persisted&&(clearTimeout(n),n=setTimeout(l,300))}),!1),"complete"===o.readyState?o.body.style.fontSize="16px":o.addEventListener("DOMContentLoaded",(function(e){o.body.style.fontSize="16px"}),!1)})(750,750);n("b7f0");$.render=a;var X=$;Object(r["a"])(X).mount("#app")},"6e99":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}",""]),e.exports=t},ab4c:function(e,t,n){"use strict";n("532b")},b7f0:function(e,t,n){"use strict";n("d4c8")},d4c8:function(e,t,n){var r=n("6e99");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("dee7462c",r,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.c5f896d6.js.map