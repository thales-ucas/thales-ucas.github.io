(function(t){function e(e){for(var r,i,c=e[0],l=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);s&&s(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"22bd":function(t,e,n){var r=n("8b4f");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("499e").default;a("d1104f7c",r,!0,{sourceMap:!1,shadowMode:!1})},"364d":function(t,e,n){t.exports=n.p+"img/square.40d3af04.jpg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,o,i){var c=Object(r["j"])("game");return Object(r["g"])(),Object(r["b"])(c,{msg:"Welcome to Your Vue.js App"})}var o=function(t){return Object(r["i"])("data-v-4f0d16f2"),t=t(),Object(r["h"])(),t},i={class:"game"},c=o((function(){return Object(r["e"])("div",null,[Object(r["e"])("p",null,"苹果棋"),Object(r["e"])("p",null,"Reversi")],-1)})),l=o((function(){return Object(r["e"])("span",null,"黑棋:",-1)})),u=o((function(){return Object(r["e"])("span",null,"白棋:",-1)})),s={key:0},f={key:1},p={key:0},d={class:"start-panel"},v={class:"start-wrap"},h=Object(r["f"])(" 初级 "),b=Object(r["f"])(" 中级 "),y=Object(r["f"])(" 高级 "),m=Object(r["f"])(" 双人对战 ");function E(t,e,n,a,o,E){return Object(r["g"])(),Object(r["d"])("div",i,[c,Object(r["e"])("div",null,[Object(r["e"])("canvas",{ref:"game",width:"500",height:"500",class:"container",onClick:e[0]||(e[0]=function(){return E.onGameClick&&E.onGameClick.apply(E,arguments)})},null,512)]),Object(r["e"])("div",null,[Object(r["e"])("ul",null,[Object(r["e"])("li",null,[l,Object(r["e"])("span",null,Object(r["k"])(o.black),1)]),Object(r["e"])("li",null,[u,Object(r["e"])("span",null,Object(r["k"])(o.white),1)])])]),Object(r["e"])("div",null," 总用时："+Object(r["k"])(o.timeGlobal),1),Object(r["e"])("div",null,[1===o.player?(Object(r["g"])(),Object(r["d"])("span",s,"黑棋思考中……")):2===o.player?(Object(r["g"])(),Object(r["d"])("span",f,"白棋思考中……")):Object(r["c"])("",!0),Object(r["e"])("span",null,Object(r["k"])(o.timeLocal)+"秒",1)]),o.msg?(Object(r["g"])(),Object(r["d"])("div",p,[Object(r["e"])("p",null,Object(r["k"])(o.msg),1),Object(r["e"])("p",null,[Object(r["e"])("button",{onClick:e[1]||(e[1]=function(){return E.onGameRestart&&E.onGameRestart.apply(E,arguments)})},"再玩一次")])])):Object(r["c"])("",!0),Object(r["n"])(Object(r["e"])("div",d,[Object(r["e"])("div",v,[Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["n"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.difficulty=t}),value:"0"},null,512),[[r["l"],o.difficulty]]),h])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["n"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.difficulty=t}),value:"1"},null,512),[[r["l"],o.difficulty]]),b])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["n"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":e[4]||(e[4]=function(t){return o.difficulty=t}),value:"2"},null,512),[[r["l"],o.difficulty]]),y])]),Object(r["e"])("p",null,[Object(r["e"])("label",null,[Object(r["n"])(Object(r["e"])("input",{type:"radio",name:"difficulty","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.difficulty=t}),value:"10"},null,512),[[r["l"],o.difficulty]]),m])]),Object(r["e"])("button",{onClick:e[6]||(e[6]=function(){return E.onGameStart&&E.onGameStart.apply(E,arguments)})},"开始游戏")])],512),[[r["m"],o.isStartPanelShow]])])}n("99af");var O=n("b85c"),w=n("1da1"),g=(n("96cf"),n("ac1f"),n("00b4"),n("5a89")),j=n("4721"),S=n("22b5"),T=(n("b0c0"),n("d3b7"),n("3ca3"),n("ddb0"),n("04d3"),n("364d")),H=n.n(T),I=function t(){var e=this;e.row=NaN,e.col=NaN,e.init=function(){var n=new g["a"](t.WIDTH,t.HEIGHT,t.WIDTH),r=(new g["p"]).load(H.a),a=new g["h"]({color:16755200,map:r});g["g"].call(e,n,a)},e.blink=function(){e.position.y+=5},e.init()};I.WIDTH=10,I.HEIGHT=2,I.prototype=Object.create(g["g"].prototype),I.prototype.constructor=I;var k=I,C=n("3835"),M=(n("c740"),function t(e){var n=this,r=null,a=null;function o(){a=a&&a===t.CHESS.BLACK?t.CHESS.WHITE:t.CHESS.BLACK;var e={type:t.EVENT.SHIFT,data:a};n.dispatchEvent(e);var r=n.getLegal(a);return 0===r.length?o():a}function i(e,n,a){if(0!==r[e][n])return!1;if(!c(n,e))return!1;r[e][n]=a;for(var o=[],i=a===t.CHESS.BLACK?t.CHESS.WHITE:t.CHESS.BLACK,l=[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],u=0,s=l;u<s.length;u++){var f=s[u],p=Object(C["a"])(f,2),d=p[0],v=p[1],h=parseInt(n),b=parseInt(e);do{h+=d,b+=v}while(c(b,h)&&r[b][h]===i);if(c(b,h)&&r[b][h]===a)while(c(b,h)){if(h-=d,b-=v,b==parseInt(e)&&h==parseInt(n))break;o.push({col:h,row:b})}}return r[e][n]=0,0!==o.length&&o}function c(e,n){return e>=0&&e<=t.ROW-1&&n>=0&&n<=t.COL-1}function l(){var e,n={black:0,white:0,space:0},a=Object(O["a"])(r);try{for(a.s();!(e=a.n()).done;){var o,i=e.value,c=Object(O["a"])(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;l===t.CHESS.BLACK?n.black++:l===t.CHESS.WHITE?n.white++:n.space++}}catch(u){c.e(u)}finally{c.f()}}}catch(u){a.e(u)}finally{a.f()}return n}n.init=function(e){if(e){r=[];for(var a=0;a<t.ROW;a++){for(var o=[],i=0;i<t.COL;i++)o.push(e[a][i]);r.push(o)}}else n.reset()},n.clone=function(){return new t(r)},n.reset=function(){r=[];for(var e=0;e<t.ROW;e++){for(var n=[],o=0;o<t.COL;o++)n.push(0);r.push(n)}a=null},n.start=function(){var e=[];e.push({row:3,col:4,color:t.CHESS.BLACK}),e.push({row:3,col:3,color:t.CHESS.WHITE}),e.push({row:4,col:3,color:t.CHESS.BLACK}),e.push({row:4,col:4,color:t.CHESS.WHITE});for(var a=0,i=e;a<i.length;a++){var c=i[a],u=c.row,s=c.col,f=c.color;r[u][s]=f}o();var p={moves:e,count:l()},d={type:t.EVENT.START,data:p};n.dispatchEvent(d)},n.getData=function(){return r},n.getPlayer=function(){return a},n.getResult=function(){var e=l(),n=e.black-e.white,r=t.WINNER.DRAW;return n>0?r=t.WINNER.BLACK:n<0&&(r=t.WINNER.WHITE),{count:e,winner:r,diff:n}},n.isGameOver=function(){var e=l();if(0===e.space||0===e.black||0===e.white){var r={type:t.EVENT.GAME_OVER,data:e};return n.dispatchEvent(r),!0}return!1},n.move=function(e,c){var u=a,s=i(e,c,u);if(s){var f,p=Object(O["a"])(s);try{for(p.s();!(f=p.n()).done;){var d=f.value;r[d.row][d.col]=u}}catch(y){p.e(y)}finally{p.f()}r[e][c]=u;var v=l(),h={row:e,col:c,color:u,flips:s,count:v},b={type:t.EVENT.MOVE,data:h};n.dispatchEvent(b),n.isGameOver()||o()}},n.getLegal=function(e){isNaN(e)&&(e=a);var n=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],o=e===t.CHESS.BLACK?t.CHESS.WHITE:t.CHESS.BLACK,l=[];for(var u in r)for(var s in r[u])if(r[u][s]===o){var f,p=Object(O["a"])(n);try{var d=function(){var e=f.value,n=Object(C["a"])(e,2),a=n[0],o=n[1],i=parseInt(s)+a,p=parseInt(u)+o;c(p,i)&&r[p][i]===t.CHESS.NONE&&-1===l.findIndex((function(t){return t[0]===i&&t[1]===p}))&&l.push([i,p])};for(p.s();!(f=p.n()).done;)d()}catch(m){p.e(m)}finally{p.f()}}for(var v=[],h=0,b=l;h<b.length;h++){var y=b[h];i(y[1],y[0],e)&&v.push(y)}return v},n.init(e)});M.ROW=8,M.COL=8,M.CHESS={NONE:0,BLACK:1,WHITE:2},M.WINNER={DRAW:0,BLACK:1,WHITE:2},M.EVENT={START:"gameStart",GAME_OVER:"gameOver",MOVE:"chessMove",SHIFT:"playerShift",FLIP:"chessFlip"},Object.assign(M.prototype,g["e"].prototype),M.prototype.constructor=M;var x=M,_=function t(e){var n=this,r=null;n.init=function(e){var a=new g["d"](t.RADIUS,t.RADIUS,t.WIDTH,t.SEGMENT),o=[new g["h"]({color:"red"}),new g["h"]({color:"black"}),new g["h"]({color:"white"})];g["g"].call(n,a,o),r=parseInt(e),r==x.CHESS.WHITE&&(n.rotation.x=Math.PI)},n.move=function(){return new Promise((function(t){var e={y:10},r=new S["b"](e).to({y:0},500).easing(S["a"].Quadratic.In);r.onUpdate((function(t){n.position.y=t.y})),r.onComplete((function(e){t(e)})),r.start()}))},n.flip=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){var a={x:0};r=r==x.CHESS.WHITE?x.CHESS.BLACK:x.CHESS.WHITE;var o=n.rotation.x,i={y:0},c=new S["b"](i).to({y:10},300).onUpdate((function(t){n.position.y=t.y})),l=new S["b"](i).to({y:0},200).onUpdate((function(t){n.position.y=t.y})),u=new S["b"](a).to({x:Math.PI},300).onUpdate((function(t){n.rotation.x=o+t.x}));u.onComplete((function(t){e(t)})),u.chain(l),c.chain(u),c.delay(t),c.start()}))},n.init(e)};_.RADIUS=4,_.HEIGHT=1,_.SEGMENT=20,_.prototype=Object.create(g["g"].prototype),_.prototype.constructor=_;var N=_,L=function(){var t=this,e=null,n=null;t.offset={row:0,col:0},t.init=function(){g["i"].call(t),e=new g["i"],n=new g["i"],t.add(e,n)},t.reset=function(){n.clear()},t.hit=function(t){var n=t.intersectObjects(e.children),r=null;return n.length>0&&(r=n[0]),r},t.pave=function(r){for(var a in e.clear(),t.offset.row=r.length/2*k.WIDTH-k.WIDTH/2,t.offset.col=t.offset.row,r)for(var o in r[a]){var i=new k;i.row=a,i.col=o,i.position.x=o*k.WIDTH,i.position.z=a*k.WIDTH,e.add(i)}e.position.set(-t.offset.col,0,-t.offset.row),n.position.set(-t.offset.col,k.HEIGHT,-t.offset.row)},t.pave2=function(n){e.clear(),t.offset.row=n.length/2*k.WIDTH-k.WIDTH/2,t.offset.col=t.offset.row;var r=1;for(var a in n){var o=function(t){var n=new k;n.row=a,n.col=t,n.position.x=t*k.WIDTH,n.position.z=a*k.WIDTH,n.visible=!1;var o={y:100},i=new S["b"](o).to({y:0},500).easing(S["a"].Quadratic.In);i.onUpdate((function(t){n.position.y=t.y})),i.onStart((function(t){n.visible=!0})),i.delay(100*r),i.start(),e.add(n),r++};for(var i in n[a])o(i)}e.position.set(-t.offset.col,0,-t.offset.row)},t.move=function(t,e,r){var a=new N(r);return a.position.x=e*k.WIDTH,a.position.z=t*k.WIDTH,a.name="".concat(t,"-").concat(e),n.add(a),a.move()},t.flip=function(t){var e=[];if(t)for(var r in t){var a=t[r],o=a.row,i=a.col,c=n.getObjectByName("".concat(o,"-").concat(i));e.push(c.flip(500*parseInt(r)))}return Promise.all(e)},t.init()};L.prototype=Object.create(g["i"].prototype),L.prototype.constructor=L;var A=L,W=n("d4ec"),G=n("bee2"),R=n("53ca"),P=(n("4e82"),function(){function t(){Object(W["a"])(this,t),this._table=[[[0,0],[0,7],[7,0],[7,7]],[[2,2],[2,5],[5,2],[5,5]],[[3,2],[3,5],[4,2],[4,5],[2,3],[2,4],[5,3],[5,4]],[[2,0],[2,7],[5,0],[5,7],[0,2],[0,5],[7,2],[7,5]],[[3,0],[3,7],[4,0],[4,7],[0,3],[0,4],[7,3],[7,4]],[[2,1],[2,6],[5,1],[5,6],[1,2],[1,5],[6,2],[6,5]],[[3,1],[3,6],[4,1],[4,6],[1,3],[1,4],[6,3],[6,4]],[[1,1],[1,6],[6,1],[6,6]],[[1,0],[1,7],[6,0],[6,7],[0,1],[0,6],[7,1],[7,6]]]}return Object(G["a"])(t,[{key:"select",value:function(t){if(!(t&&t.length>0))return!1;var e,n=Object(O["a"])(this._table);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.sort((function(){return.5-Math.random()}));var a,o=Object(O["a"])(r);try{var i=function(){var e=a.value;if(t.findIndex((function(t){return t[0]===e[0]&&t[1]===e[1]}))>-1)return{v:e}};for(o.s();!(a=o.n()).done;){var c=i();if("object"===Object(R["a"])(c))return c.v}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}}}]),t}()),V=P,D=function(){function t(e,n,r,a){Object(W["a"])(this,t),this.black=e,this.white=n,this.current=a,this.engine=r}return Object(G["a"])(t,[{key:"run",value:function(){var t=0;while(!this.engine.isGameOver()){this.shift();var e=this.engine.getLegal(this.current.color);if(e&&e.length>0){var n=this.current.getMove(e);this.engine.move(n[1],n[0])}if(t>100)break;t++}return this.engine.getResult()}},{key:"shift",value:function(){var t=this.engine.getPlayer();return isNaN(t)?this.current=this.black:this.current=t===x.CHESS.BLACK?this.black:this.white,this.current}}]),t}(),B=function(){function t(e,n){Object(W["a"])(this,t),this.color=e,this.type=n,this.roxnane=new V}return Object(G["a"])(t,[{key:"getMove",value:function(t){return this.roxnane.select(t)}}]),t}(),K=function(){function t(e,n){Object(W["a"])(this,t),this.parent=e,this.w=0,this.n=0,this.row=NaN,this.col=NaN,this.color=n,this.children=[]}return Object(G["a"])(t,[{key:"setMove",value:function(t){this.row=t[1],this.col=t[0]}},{key:"getMove",value:function(){return[this.col,this.row]}},{key:"add",value:function(t){-1===this.children.findIndex((function(e){return e.row===t.row&&e.col===t.col}))&&this.children.push(t)}}]),t}(),U=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;Object(W["a"])(this,t),this.color=e,this.expire=n,this.tick=0,this.black=new B(x.CHESS.BLACK),this.white=new B(x.CHESS.WHITE)}return Object(G["a"])(t,[{key:"run",value:function(t){var e=this;this.tick=(new Date).getTime();var n=new K(null,this.color);return new Promise((function(r,a){var o=setInterval((function(){var a=t.clone(),i=e.select(n,a);e.expand(i,a);var c=e.simulate(i,a),l=c.winner,u=[.5,1,0][l];if(i.color===x.CHESS.BLACK&&(u=1-u),e.backProp(i,u),(new Date).getTime()-e.tick>e.expire-1){clearInterval(o);var s=-1,f=null;for(var p in n.children)n.children[p].n>s&&(s=n.children[p].n,f=n.children[p].getMove());r(f)}}),1)}))}},{key:"select",value:function(t,e){if(0===t.children.length)return t;var n=-1,r=null;for(var a in t.children){if(0===t.children[a].n){r=a;break}var o=t.n,i=t.children[a].n,c=t.children[a].w,l=c/i+Math.sqrt(2*Math.log(o)/i);l>n&&(n=l,r=a)}return this.select(t.children[r],e)}},{key:"expand",value:function(t,e){var n,r=Object(O["a"])(e.getLegal(t.color));try{for(r.s();!(n=r.n()).done;){var a=n.value,o=new K(t,t.color);o.setMove(a),t.add(o)}}catch(i){r.e(i)}finally{r.f()}}},{key:"simulate",value:function(t,e){var n=t.color===x.CHESS.WHITE?x.CHESS.BLACK:x.CHESS.WHITE,r=new D(this.black,this.white,e,n);return r.run()}},{key:"backProp",value:function(t,e){t.n+=1,t.w+=e,t.parent&&this.backProp(t.parent,1-e)}},{key:"getMove",value:function(t){this.tick=(new Date).getTime();var e=this.mcts(t.clone());return e}}]),t}(),z=U,F=function t(e){var n=this,r=null,a=null,o=0;n.init=function(t){r=new z(x.CHESS.WHITE),a=new V,o=parseInt(t)},n.getColor=function(){return x.CHESS.WHITE},n.think=function(e){if(2===o)r.run(e).then((function(e){var r=Object(C["a"])(e,2),a=r[0],o=r[1],i={col:a,row:o,color:n.getColor()},c={type:t.EVENT.MOVE,data:i};n.dispatchEvent(c)}));else{var i,c,l=e.getLegal();if(0===l.length)return;if(1===o){var u=a.select(l),s=Object(C["a"])(u,2);i=s[0],c=s[1]}else{var f=Object(C["a"])(l[parseInt(Math.random()*l.length)],2);i=f[0],c=f[1]}var p={col:i,row:c,color:n.getColor()};setTimeout((function(){var e={type:t.EVENT.MOVE,data:p};n.dispatchEvent(e)}),500)}},n.init(e)};F.EVENT={MOVE:"aiPlayerMove"},F.prototype=Object.create(g["e"].prototype),F.prototype.constructor=F;var q=F,J={RUNNING:"running",GAME_INIT:"gameInit",GAME_START:"gameStart",GAME_STEP:"gameStep",GAME_OVER:"gameOver"},Q=function(t){var e=this,n=0,r=0,a=0,o=0,i=null,c=60,l=null,u=null,s=null,f=null,p=null,d=null,v={},h=null,b=new g["b"],y=!1,m=!1;function E(){n=i.offsetLeft,r=i.offsetTop,a=i.clientWidth,o=i.clientHeight}function T(){var t=d.getPlayer();"player"===v[t]?m=!0:"ai"===v[t]&&h.think(d)}function H(t){return I.apply(this,arguments)}function I(){return I=Object(w["a"])(regeneratorRuntime.mark((function t(n){var r,a,o,i,c,l,u,s,p,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=n.data,a=r.count,o=r.moves,(new Date).getTime(),i=Object(O["a"])(o),t.prev=3,i.s();case 5:if((c=i.n()).done){t.next=12;break}return l=c.value,u=l.row,s=l.col,p=l.color,t.next=10,f.move(u,s,p);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),i.e(t.t0);case 17:return t.prev=17,i.f(),t.finish(17);case 20:m=!0,y=!0,b.start(),a.player=d.getPlayer(),v={type:J.GAME_STEP,data:a},e.dispatchEvent(v);case 26:case"end":return t.stop()}}),t,null,[[3,14,17,20]])}))),I.apply(this,arguments)}function k(t){y=!1,b.stop()}function C(t){var n={type:J.GAME_OVER,data:t};e.dispatchEvent(n)}function M(t){m=!1;var n=t.data,r=n.row,a=n.col,o=n.color,i=n.flips,c=n.count;f.move(r,a,o).then((function(){f.flip(i).then((function(){c.player=d.getPlayer();var t={type:J.GAME_STEP,data:c};e.dispatchEvent(t),y?T():C(c)}))}))}function _(t){var e=t.data,n=e.row,r=e.col;d.move(n,r)}function L(t){if(requestAnimationFrame(L),y){var n={type:J.RUNNING,data:b.getElapsedTime()};e.dispatchEvent(n)}S["c"].update(t),s.render(u,l)}e.init=function(t){i=t,E(),u=new g["m"],u.background=new g["c"]("skyblue"),l=new g["j"](75,a/o,1,1e3),l.position.set(0,0,c),s=new g["s"]({canvas:t,antialias:!0}),p=new g["l"],d=new x,d.addEventListener(x.EVENT.START,H),d.addEventListener(x.EVENT.GAME_OVER,k),d.addEventListener(x.EVENT.MOVE,M),f=new A,f.pave(d.getData()),u.add(f),l.lookAt(f.position),window.addEventListener("resize",E),L(0)},e.reset=function(){d.reset(),f.reset(),m=!1,y=!1,S["c"].removeAll()},e.start=function(t){E();var e=new g["r"];e.copy(l.position);var n=new g["r"],r=new S["b"](e).to({x:0,y:c,z:0});r.onUpdate((function(t){n.copy(t),n.setLength(c),l.position.copy(n),l.lookAt(f.position)})),r.onComplete((function(){10===parseInt(t)?v[x.CHESS.WHITE]="player":(h=new q(t),h.addEventListener(q.EVENT.MOVE,_),v[x.CHESS.WHITE]="ai"),v[x.CHESS.BLACK]="player",d.start()})),r.start()},e.test=function(){u.clear();var t=new N;u.add(t);var e=new j["a"](l,s.domElement);e.update()},e.click=function(t){if(m){var e=new g["q"],i=t.x-n,c=t.y-r;e.x=i/a*2-1,e.y=-c/o*2+1,p.setFromCamera(e,l);var u=f.hit(p);if(u){var s=u.object,v=s.row,h=s.col;d.move(v,h)}}},e.init(t)};Object.assign(Q.prototype,g["e"].prototype),Q.prototype.constructor=Q;var Y={name:"Game",data:function(){return{isStartPanelShow:!0,difficulty:0,msg:"",timeGlobal:0,timeLocal:0,player:0,black:0,white:0}},_time:0,_count:0,__reversi:null,mounted:function(){this.__reversi=new Q(this.$refs["game"]),this.__reversi.addEventListener(J.GAME_STEP,this.onGameStep),this.__reversi.addEventListener(J.RUNNING,this.onGameRunning),this.__reversi.addEventListener(J.GAME_OVER,this.onGameOver)},methods:{onGameClick:function(t){this.__reversi.click(t)},onGameStart:function(t){this.isStartPanelShow=!1,this.__reversi.start(this.difficulty),this._count=this._time||0},onGameRestart:function(t){this.__reversi.reset(),this.isStartPanelShow=!0,this.msg=""},onGameOver:function(t){var e=t.data,n=e.black,r=e.white;e.space;this.msg=n>r?"黑棋胜":r>n?"白棋胜":"平局"},onGameRunning:function(t){var e=t.data;this._time=e;var n=Math.floor(e/3600),r=Math.floor(e/60%60),a=Math.floor(e%60);this.timeGlobal="".concat(n,"小时 ").concat(r,"分 ").concat(a,"秒"),this.timeLocal=Math.floor(this._time-this._count),this.timeLocal<0&&(this.timeLocal=0)},onGameStep:function(t){this._count=this._time||0,this.black=t.data.black,this.white=t.data.white,this.player=t.data.player}}},$=(n("8817"),n("6b0d")),X=n.n($);const Z=X()(Y,[["render",E],["__scopeId","data-v-4f0d16f2"]]);var tt=Z,et={name:"App",components:{Game:tt}};(function(t,e){var n,r,a,o=document,i=window,c=o.documentElement;function l(){var n=c.getBoundingClientRect().width;e||(e=540),n>e&&(n=e);var o=100*n/t;if(a="html{font-size:"+o+"px !important}",r=document.getElementById("rootsize")||document.createElement("style"),document.getElementById("rootsize")||(document.getElementsByTagName("head")[0].appendChild(r),r.id="rootsize"),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=a);else try{r.innerHTML=a}catch(i){r.innerText=a}c.style.fontSize=o+"px"}l(),i.addEventListener("resize",(function(){clearTimeout(n),n=setTimeout(l,300)}),!1),i.addEventListener("pageshow",(function(t){t.persisted&&(clearTimeout(n),n=setTimeout(l,300))}),!1),"complete"===o.readyState?o.body.style.fontSize="16px":o.addEventListener("DOMContentLoaded",(function(t){o.body.style.fontSize="16px"}),!1)})(750,750);n("b7f0");const nt=X()(et,[["render",a]]);var rt=nt;Object(r["a"])(rt).mount("#app")},"6e99":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50}",""]),t.exports=e},8817:function(t,e,n){"use strict";n("22bd")},"8b4f":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,"h3[data-v-4f0d16f2]{margin:40px 0 0}ul[data-v-4f0d16f2]{list-style-type:none;padding:0}li[data-v-4f0d16f2]{display:inline-block;margin:0 10px}a[data-v-4f0d16f2]{color:#42b983}.container[data-v-4f0d16f2]{max-width:500px;width:100%}.start-panel[data-v-4f0d16f2]{width:5rem;position:absolute;left:1.25rem;top:1.75rem;z-index:1;border-radius:.1rem;background-color:#fff}.start-panel .start-wrap[data-v-4f0d16f2]{margin:.3rem 1.5rem .7rem}.start-panel .start-wrap p[data-v-4f0d16f2]{text-align:left}",""]),t.exports=e},b7f0:function(t,e,n){"use strict";n("d4c8")},d4c8:function(t,e,n){var r=n("6e99");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("499e").default;a("a60ab22a",r,!0,{sourceMap:!1,shadowMode:!1})}});
//# sourceMappingURL=app.1981ca89.js.map